{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\imman\\\\OneDrive\\\\Dokumen\\\\last-praktikum-Tumbal2\\\\src\\\\components\\\\CreateMenu.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { menuAPI } from './apiHandler/API.jsx';\nimport Footer from './Footer';\nimport \"../styles/Menu.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CreateMenu = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const formRef = useRef();\n  const navigate = useNavigate();\n\n  // GETTING DATA FROM API TO PUT INSIDE THE STATE FOR VALIDATION \n  useEffect(() => {\n    const loadData = async () => {\n      setData(await menuAPI.get());\n    };\n    loadData();\n  }, []);\n\n  //SUBMIT HANDLER\n  const submit = e => {\n    e.preventDefault();\n    const {\n      name,\n      image,\n      description,\n      price\n    } = formRef.current;\n    if (name.value.length < 4) return;\n    if (image.value.length === 0) return;\n    if (description.value.length === 0) return;\n    if (price.value.length === 0) return;\n    let duplicate = false;\n    data.map(item => {\n      if (item.name === name.value) return duplicate = true;\n    });\n    if (duplicate) return alert(\"ada duplikasi menu\");\n    const currentData = {};\n    currentData.id = \"\" + (data.length + 1);\n    currentData.name = name.value;\n    currentData.image = image.value;\n    currentData.description = description.value;\n    currentData.price = price.value;\n    menuAPI.post(currentData);\n    data.push(currentData);\n    navigate(\"/menu\");\n  };\n  return (\n    /*#__PURE__*/\n    //CREATE FORM\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"100vh\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"\",\n          ref: formRef,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"must 3 character or more\",\n            defaultValue: \"\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            placeholder: \"needed character\",\n            cols: \"30\",\n            rows: \"10\",\n            defaultValue: \"\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"image\",\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"image\",\n            placeholder: \"Image URL\",\n            cols: \"30\",\n            rows: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"price\",\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"price\",\n            placeholder: \"Enter Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submitCreate\",\n              onClick: submit,\n              children: \"Sumbit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/menu\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"cancelCreate\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  );\n};\n_s(CreateMenu, \"ImjxQfEd4runYgbSlWB3RVdY88g=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateMenu;\nexport default CreateMenu;\nvar _c;\n$RefreshReg$(_c, \"CreateMenu\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","useNavigate","menuAPI","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateMenu","_s","data","setData","formRef","navigate","loadData","get","submit","e","preventDefault","name","image","description","price","current","value","length","duplicate","map","item","alert","currentData","id","post","push","children","style","height","action","ref","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","defaultValue","required","cols","rows","className","onClick","to","_c","$RefreshReg$"],"sources":["C:/Users/imman/OneDrive/Dokumen/last-praktikum-Tumbal2/src/components/CreateMenu.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { menuAPI } from './apiHandler/API.jsx'\r\nimport Footer from './Footer'\r\nimport \"../styles/Menu.css\"\r\n\r\n\r\nconst CreateMenu = () => {\r\n    const [data, setData] = useState([])\r\n    const formRef = useRef()\r\n    const navigate = useNavigate();\r\n\r\n    // GETTING DATA FROM API TO PUT INSIDE THE STATE FOR VALIDATION \r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            setData(await menuAPI.get())\r\n        }\r\n        loadData()\r\n    }, [])\r\n\r\n    //SUBMIT HANDLER\r\n    const submit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { name, image, description, price } = formRef.current;\r\n\r\n        if (name.value.length < 4) return;\r\n        if (image.value.length === 0) return;\r\n        if (description.value.length === 0) return;\r\n        if (price.value.length === 0) return;\r\n\r\n        let duplicate = false\r\n        data.map((item) => {\r\n            if (item.name === name.value) return (duplicate = true)\r\n        })\r\n\r\n        if (duplicate) return alert(\"ada duplikasi menu\")\r\n\r\n        const currentData = {};\r\n        currentData.id = \"\" + (data.length + 1)\r\n        currentData.name = name.value\r\n        currentData.image = image.value\r\n        currentData.description = description.value\r\n        currentData.price = price.value\r\n\r\n        menuAPI.post(currentData)\r\n        data.push(currentData)\r\n        navigate(\"/menu\")\r\n    }\r\n\r\n    return (\r\n        //CREATE FORM\r\n        <>\r\n            <div style={{ height: \"100vh\" }}>\r\n                <form action=\"\" ref={formRef}>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input type=\"text\" name=\"name\" placeholder='must 3 character or more' defaultValue={\"\"} required />\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea name=\"description\" placeholder=\"needed character\" cols=\"30\" rows=\"10\" defaultValue={\"\"} required></textarea>\r\n                    <label htmlFor=\"image\">Image</label>\r\n                    <textarea name=\"image\" placeholder=\"Image URL\" cols=\"30\" rows=\"10\" ></textarea>\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"text\" name=\"price\" placeholder='Enter Price' />\r\n                    <div>\r\n                        <button className=\"submitCreate\" onClick={submit}>\r\n                            Sumbit\r\n                        </button>\r\n                        <span />\r\n                        <Link to=\"/menu\">\r\n                            <button type=\"button\" className='cancelCreate'>\r\n                                Cancel\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateMenu\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}